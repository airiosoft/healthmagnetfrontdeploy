import{ab as b,ac as A,ad as C,ae as S,af as I,ao as L,r as l,ap as P,j as f,U as T,a as t,S as h,au as p,bh as O,B as u,n as Q,c9 as g}from"./index.b3b82eb3.js";import{Q as R}from"./quill-editor.cdca5dd9.js";import{H as q}from"./html-parser.6d540346.js";import{H as z}from"./Head.663b461a.js";import{T as w}from"./index.d4b9fca0.js";var v=(n=>(n.CREATE="term-privacy/store",n))(v||{});const D=n=>S({url:v.CREATE,method:"post",data:n}),N=({configs:n}={})=>b({mutationFn:D,onSuccess(e){var o,r;!e.success||(o=e.data)!=null&&o.message&&A("SUCCESS",(r=e.data)==null?void 0:r.message)},onError:e=>{C(e)},...n});function j(n){return P(S({url:`term-privacy/${n}/show`,method:"get",params:{type:n}}))}function k({configs:n,type:e}){const o=I(),{data:r,...a}=L({...n,queryFn:()=>j(e),onError(i){i&&C(i)},queryKey:[e,"term-privacy"]});function c(){o.refetchQueries([e,"term-privacy"])}const s=l.exports.useMemo(()=>r==null?void 0:r.term_privacy,[r==null?void 0:r.term_privacy]);return{termAndPrivacy:{...s,content:(s==null?void 0:s.content)||""},...a,invalidateQueryTermAndPrivacy:c,isLoading:a.isLoading&&a.fetchStatus!=="idle"}}function y({type:n}){const{termAndPrivacy:e,invalidateQueryTermAndPrivacy:o,isLoading:r}=k({type:n}),[a,c]=l.exports.useState(""),[s,i]=l.exports.useState(!1),d=N(),x=m=>{d.mutate({content:m,type:n},{onSuccess(){o(),i(!1)}})},E=m=>{c(m)};return l.exports.useEffect(()=>c((e==null?void 0:e.content.replaceAll("	","&nbsp;"))||""),[e==null?void 0:e.content]),l.exports.useEffect(()=>()=>{i(!1)},[]),f(T,{children:[s?f(h,{spacing:6,direction:"row",align:"center",my:6,justify:"flex-end",children:[t(p,{bg:"primary",color:"white",size:{base:"md",md:"lg"},isLoading:d.isLoading,disabled:d.isLoading||!a||a===e.content,onClick:()=>{x(a)},children:t(u,{as:"span",fontSize:"16px",children:"Save"})}),t(p,{variant:"ghost",_hover:{opacity:.8},color:"secondary",mt:"20px",size:{base:"md",md:"lg"},onClick:()=>{i(!1),c(e==null?void 0:e.content)},children:t(u,{as:"span",fontSize:"16px",children:"Cancel"})})]}):t(h,{justify:"flex-end",direction:"row",children:t(p,{variant:"ghost",color:"secondary",my:6,leftIcon:t(O,{}),size:{base:"md",md:"lg"},onClick:()=>i(!0),children:t(u,{as:"span",fontSize:"16px",children:"Edit"})})}),s?t(R,{defaultValue:a,onChange:E}):t(Q.Card,{isLoaded:!r,children:t(q,{html:a})})]})}function Y(){return f(T,{children:[t(z,{title:"Setting"}),t(u,{bg:"white",px:{base:8,md:8},py:{base:2,lg:4},rounded:8,children:t(w,{isLazy:!0,tabData:[{title:"TERMS AND CONDITIONS",children:t(y,{type:g.TERM_CONDITION})},{title:"PRIVACY AND POLICY",children:t(y,{type:g.PRIVACY_POLICY})}]})})]})}export{Y as SettingPage};
